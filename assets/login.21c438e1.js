import{e as r,k as c,i as a,v as i,o as u,b as d,w as l}from"./entry.3c72a9ec.js";import{u as p}from"./index.139c59a5.js";const h=r({__name:"login",setup(f){const e=c(),s=a(),t=p();return i(async()=>{const n=l();try{if(e.query.code){const o=await $fetch("https://kauth.kakao.com/oauth/token",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},params:{grant_type:"authorization_code",client_id:n.public.restApi,redirect_uri:`${window.location.origin}/login`,code:e.query.code}});o?(t.isLogin=!0,t.userToken=o.access_token,s.push("/")):console.log("Not found data")}else console.log("Not found code")}catch(o){console.log(o)}}),(n,o)=>(u(),d("div"))}});export{h as default};
